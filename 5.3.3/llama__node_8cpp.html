<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>llama_ros: llama.cpp for ROS 2: llama_ros/src/llama_ros/llama_node.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">llama_ros: llama.cpp for ROS 2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1f91e0e419b5a9a5993cd6009f727d3b.html">llama_ros</a></li><li class="navelem"><a class="el" href="dir_108b5133913ef3a7ebd5b9f2403de28a.html">src</a></li><li class="navelem"><a class="el" href="dir_f7c8420504584b88671e14e304bba259.html">llama_ros</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">llama_node.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;memory&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;chat.h&quot;</code><br />
<code>#include &quot;common.h&quot;</code><br />
<code>#include &quot;llama.h&quot;</code><br />
<code>#include &quot;llama_msgs/msg/lo_ra.hpp&quot;</code><br />
<code>#include &quot;llama_msgs/msg/logit_bias.hpp&quot;</code><br />
<code>#include &quot;llama_msgs/msg/token_prob.hpp&quot;</code><br />
<code>#include &quot;llama_msgs/msg/token_prob_array.hpp&quot;</code><br />
<code>#include &quot;<a class="el" href="llama_8hpp_source.html">llama_ros/llama.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="llama__node_8hpp_source.html">llama_ros/llama_node.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="chat__utils_8hpp_source.html">llama_utils/chat_utils.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="llama__params_8hpp_source.html">llama_utils/llama_params.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for llama_node.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="llama__node_8cpp__incl.png" border="0" usemap="#allama__ros_2src_2llama__ros_2llama__node_8cpp" alt=""/></div>
<map name="allama__ros_2src_2llama__ros_2llama__node_8cpp" id="allama__ros_2src_2llama__ros_2llama__node_8cpp">
<area shape="rect" title=" " alt="" coords="2454,5,2594,46"/>
<area shape="rect" title=" " alt="" coords="401,434,468,459"/>
<area shape="poly" title=" " alt="" coords="2454,30,1987,33,1307,43,969,52,677,63,464,78,398,87,364,96,336,116,315,138,301,161,293,187,290,214,292,244,307,311,324,351,353,384,376,405,402,423,399,427,373,409,349,388,319,354,301,313,287,245,285,214,288,186,296,159,311,135,332,112,362,92,397,82,464,73,677,58,969,47,1307,38,1987,28,2454,25"/>
<area shape="rect" title=" " alt="" coords="1045,507,1099,533"/>
<area shape="poly" title=" " alt="" coords="2454,30,1933,32,1160,42,774,50,440,62,196,77,119,86,80,96,47,116,25,138,12,165,8,202,8,374,10,394,17,409,27,421,41,430,76,443,118,457,199,478,309,493,439,504,577,511,843,517,1030,517,1030,522,843,522,577,517,438,509,309,498,198,483,117,462,74,448,38,434,24,425,12,412,5,396,3,374,3,202,7,164,21,135,44,112,78,92,118,81,195,72,440,56,774,45,1160,36,1933,27,2454,24"/>
<area shape="rect" title=" " alt="" coords="1510,434,1567,459"/>
<area shape="poly" title=" " alt="" coords="2595,26,2710,32,2845,43,2971,62,3022,76,3059,92,3092,113,3115,136,3130,164,3135,202,3135,294,3130,302,3119,310,3077,325,3012,338,2926,351,2710,376,2454,397,1933,429,1583,446,1583,441,1933,424,2454,391,2709,370,2926,346,3011,333,3075,319,3116,305,3126,299,3129,292,3129,202,3125,165,3111,139,3088,117,3056,96,3020,81,2970,68,2844,48,2709,37,2594,31"/>
<area shape="rect" title=" " alt="" coords="129,434,186,459"/>
<area shape="poly" title=" " alt="" coords="2453,30,1999,35,1328,47,685,67,448,80,365,88,310,97,264,104,220,107,138,114,106,123,81,139,64,164,59,202,59,293,66,331,84,367,108,397,132,421,129,425,104,401,80,370,61,333,53,293,53,201,59,162,77,135,104,118,137,109,219,102,264,98,309,91,364,83,448,75,684,62,1328,42,1999,30,2453,25"/>
<area shape="rect" title=" " alt="" coords="598,434,679,459"/>
<area shape="poly" title=" " alt="" coords="2453,30,2039,37,1437,49,863,69,652,82,528,97,463,108,410,118,387,126,366,139,345,158,325,184,319,200,320,219,334,260,354,295,365,310,388,334,414,356,471,390,531,415,584,431,582,436,529,420,469,395,410,360,384,338,361,314,350,298,330,262,315,220,314,199,320,181,341,154,363,135,385,121,409,113,462,103,528,91,652,76,862,64,1437,44,2039,31,2453,25"/>
<area shape="rect" title=" " alt="" coords="2393,434,2455,459"/>
<area shape="poly" title=" " alt="" coords="2595,28,2741,36,2915,49,3068,68,3122,79,3152,92,3174,116,3184,141,3186,168,3185,202,3185,293,3185,322,3182,346,3172,368,3152,388,3113,403,3044,415,2848,432,2634,442,2471,447,2471,442,2634,437,2848,427,3043,409,3112,397,3149,383,3168,365,3177,345,3180,322,3180,293,3180,202,3180,168,3178,142,3170,119,3149,96,3120,84,3067,73,2915,54,2741,41,2595,33"/>
<area shape="rect" title=" " alt="" coords="3220,102,3396,127"/>
<area shape="poly" title=" " alt="" coords="2595,29,2862,53,3202,91,3230,96,3229,101,3201,97,2861,58,2594,35"/>
<area shape="rect" title=" " alt="" coords="3420,94,3569,135"/>
<area shape="poly" title=" " alt="" coords="2594,26,2939,44,3169,63,3405,91,3405,96,3168,68,2939,49,2594,32"/>
<area shape="rect" title=" " alt="" coords="3592,94,3749,135"/>
<area shape="poly" title=" " alt="" coords="2594,25,2766,30,3007,40,3288,60,3577,91,3577,96,3288,65,3007,46,2766,35,2594,31"/>
<area shape="rect" title=" " alt="" coords="3772,94,3929,135"/>
<area shape="poly" title=" " alt="" coords="2595,24,2793,27,3078,36,3413,56,3587,71,3758,91,3757,96,3586,77,3413,61,3078,41,2793,32,2595,30"/>
<area shape="rect" href="llama_8hpp.html" title=" " alt="" coords="1174,360,1311,386"/>
<area shape="poly" title=" " alt="" coords="2595,26,2758,37,2850,49,2938,67,3013,92,3042,108,3064,126,3078,147,3083,171,3076,197,3058,225,3044,238,3023,250,2965,271,2885,290,2787,306,2550,332,2278,351,1994,363,1725,370,1326,374,1326,369,1725,364,1994,357,2277,345,2550,327,2787,301,2884,285,2963,266,3021,245,3041,234,3054,222,3071,194,3077,170,3073,149,3060,130,3039,113,3010,97,2937,73,2850,55,2757,43,2595,31"/>
<area shape="rect" href="llama__node_8hpp.html" title=" " alt="" coords="1782,102,1954,127"/>
<area shape="poly" title=" " alt="" coords="2454,39,1969,102,1969,97,2453,34"/>
<area shape="rect" href="llama__params_8hpp.html" title=" " alt="" coords="1021,190,1214,216"/>
<area shape="poly" title=" " alt="" coords="2453,34,2156,57,1964,75,1771,97,1495,137,1220,185,1196,190,1195,184,1220,180,1494,131,1770,91,1964,70,2155,52,2453,29"/>
<area shape="rect" href="chat__utils_8hpp.html" title=" " alt="" coords="540,102,708,127"/>
<area shape="poly" title=" " alt="" coords="2454,33,723,111,723,106,2453,28"/>
<area shape="poly" title=" " alt="" coords="1174,383,484,443,484,438,1174,378"/>
<area shape="poly" title=" " alt="" coords="1235,388,1205,422,1164,461,1108,501,1105,497,1161,457,1201,419,1231,384"/>
<area shape="poly" title=" " alt="" coords="1298,384,1495,431,1494,436,1297,389"/>
<area shape="poly" title=" " alt="" coords="1174,381,201,445,201,440,1174,376"/>
<area shape="poly" title=" " alt="" coords="1174,385,695,441,695,436,1174,380"/>
<area shape="poly" title=" " alt="" coords="1311,376,2377,440,2377,445,1311,381"/>
<area shape="rect" title=" " alt="" coords="1073,434,1151,459"/>
<area shape="poly" title=" " alt="" coords="1222,389,1148,428,1146,424,1219,384"/>
<area shape="rect" title=" " alt="" coords="993,434,1050,459"/>
<area shape="poly" title=" " alt="" coords="1206,389,1065,434,1064,429,1204,384"/>
<area shape="rect" title=" " alt="" coords="1225,434,1308,459"/>
<area shape="poly" title=" " alt="" coords="1249,385,1260,418,1255,420,1244,387"/>
<area shape="rect" href="spinner_8hpp.html" title=" " alt="" coords="1333,434,1486,459"/>
<area shape="poly" title=" " alt="" coords="1272,384,1368,425,1366,430,1270,389"/>
<area shape="poly" title=" " alt="" coords="1352,463,1114,513,1113,507,1351,457"/>
<area shape="rect" title=" " alt="" coords="1381,507,1438,533"/>
<area shape="poly" title=" " alt="" coords="1412,460,1412,492,1407,492,1407,460"/>
<area shape="poly" title=" " alt="" coords="1782,117,1589,119,1348,127,1227,135,1116,148,1023,164,953,185,940,194,932,204,923,216,909,226,851,245,798,250,749,246,702,238,656,232,611,232,563,244,512,273,482,305,461,345,448,385,441,419,435,418,443,383,456,342,478,302,509,269,561,239,610,227,657,227,703,233,749,241,798,245,850,240,907,221,920,212,928,201,936,190,951,180,1021,159,1116,142,1227,130,1348,122,1589,113,1782,112"/>
<area shape="poly" title=" " alt="" coords="1954,112,2181,114,2463,122,2597,130,2713,142,2800,159,2829,169,2847,181,2855,192,2857,203,2855,214,2847,225,2816,246,2764,264,2694,281,2609,296,2403,321,2166,340,1919,354,1683,363,1327,373,1327,368,1682,358,1919,348,2165,334,2402,315,2609,291,2693,276,2763,259,2814,241,2843,221,2850,212,2852,203,2850,194,2843,185,2827,174,2798,164,2712,147,2597,135,2462,127,2181,119,1954,118"/>
<area shape="rect" title=" " alt="" coords="912,279,1032,304"/>
<area shape="poly" title=" " alt="" coords="1782,122,1688,129,1573,141,1450,159,1327,185,1277,204,1226,226,1033,277,1032,272,1224,221,1275,199,1326,180,1449,154,1573,136,1687,124,1782,117"/>
<area shape="rect" title=" " alt="" coords="2069,183,2206,223"/>
<area shape="poly" title=" " alt="" coords="1907,125,2062,175,2061,180,1905,130"/>
<area shape="rect" title=" " alt="" coords="523,271,685,312"/>
<area shape="poly" title=" " alt="" coords="1782,119,1601,124,1378,134,1163,154,1076,168,1010,185,994,194,982,204,971,215,953,226,700,275,699,270,951,221,967,211,979,200,990,190,1008,180,1075,163,1162,149,1377,129,1601,118,1782,114"/>
<area shape="rect" title=" " alt="" coords="712,183,896,223"/>
<area shape="poly" title=" " alt="" coords="1782,121,1405,142,1161,160,915,185,912,186,911,180,914,180,1161,155,1405,136,1782,116"/>
<area shape="rect" title=" " alt="" coords="2230,183,2415,223"/>
<area shape="poly" title=" " alt="" coords="1933,125,2216,179,2215,184,1932,130"/>
<area shape="rect" title=" " alt="" coords="2438,190,2642,216"/>
<area shape="poly" title=" " alt="" coords="1955,122,2169,147,2427,180,2457,185,2456,190,2426,185,2169,152,1954,127"/>
<area shape="rect" title=" " alt="" coords="2666,183,2833,223"/>
<area shape="poly" title=" " alt="" coords="1954,117,2257,138,2451,156,2650,180,2650,185,2451,161,2257,143,1954,123"/>
<area shape="rect" title=" " alt="" coords="2908,183,3044,223"/>
<area shape="poly" title=" " alt="" coords="1954,114,2126,119,2359,130,2623,150,2890,180,2894,181,2893,186,2889,185,2623,155,2359,136,2126,125,1954,120"/>
<area shape="rect" title=" " alt="" coords="1338,183,1472,223"/>
<area shape="poly" title=" " alt="" coords="1790,130,1653,153,1489,185,1488,179,1652,148,1789,125"/>
<area shape="rect" title=" " alt="" coords="1497,183,1650,223"/>
<area shape="poly" title=" " alt="" coords="1827,130,1656,180,1654,175,1826,125"/>
<area shape="rect" title=" " alt="" coords="1675,190,1864,216"/>
<area shape="poly" title=" " alt="" coords="1856,130,1796,182,1793,178,1853,126"/>
<area shape="rect" title=" " alt="" coords="1888,183,2045,223"/>
<area shape="poly" title=" " alt="" coords="1883,126,1935,170,1931,174,1880,130"/>
<area shape="poly" title=" " alt="" coords="1782,128,1283,185,1229,191,1229,186,1282,180,1781,123"/>
<area shape="poly" title=" " alt="" coords="1043,219,861,250,749,274,713,305,684,345,663,385,649,420,644,418,658,383,680,342,709,302,747,269,860,245,1042,214"/>
<area shape="poly" title=" " alt="" coords="1098,219,1007,273,1004,268,1096,214"/>
<area shape="poly" title=" " alt="" coords="1045,219,1003,226,704,274,700,275,700,269,704,269,1002,221,1044,214"/>
<area shape="rect" title=" " alt="" coords="1056,271,1232,312"/>
<area shape="poly" title=" " alt="" coords="1124,216,1136,256,1131,257,1118,217"/>
<area shape="rect" href="llava_8hpp.html" title=" " alt="" coords="760,279,888,304"/>
<area shape="poly" title=" " alt="" coords="1077,219,881,277,879,271,1075,214"/>
<area shape="poly" title=" " alt="" coords="794,307,480,430,479,425,792,302"/>
<area shape="poly" title=" " alt="" coords="853,303,893,325,933,358,950,385,959,409,967,432,983,458,1008,480,1035,497,1032,502,1005,484,979,461,962,435,954,410,946,387,929,362,890,330,850,307"/>
<area shape="poly" title=" " alt="" coords="869,303,900,309,1019,325,1112,329,1206,335,1260,344,1323,357,1421,389,1501,424,1499,429,1419,394,1322,363,1259,349,1205,341,1112,334,1018,330,900,315,868,308"/>
<area shape="poly" title=" " alt="" coords="801,307,760,331,716,362,685,393,659,423,655,420,681,389,713,358,757,326,799,303"/>
<area shape="poly" title=" " alt="" coords="871,302,901,309,1037,336,1160,356,1159,361,1036,341,899,315,869,308"/>
<area shape="poly" title=" " alt="" coords="868,303,933,325,1004,358,1051,389,1090,421,1087,425,1048,393,1001,362,931,330,866,308"/>
<area shape="poly" title=" " alt="" coords="872,303,925,324,952,339,977,358,1000,387,1015,418,1010,420,995,390,973,362,949,344,923,329,870,308"/>
<area shape="rect" title=" " alt="" coords="727,360,830,386"/>
<area shape="poly" title=" " alt="" coords="819,306,796,348,791,345,815,304"/>
<area shape="rect" title=" " alt="" coords="854,360,919,386"/>
<area shape="poly" title=" " alt="" coords="836,303,870,346,866,349,831,307"/>
<area shape="poly" title=" " alt="" coords="540,125,477,134,412,146,358,163,338,173,325,184,309,214,306,246,313,279,328,313,348,345,370,375,413,422,409,425,366,378,344,348,323,315,308,281,301,246,304,212,321,181,335,169,356,158,411,141,476,128,540,120"/>
<area shape="poly" title=" " alt="" coords="540,128,403,150,342,166,301,185,273,210,248,239,209,305,182,369,166,420,161,418,177,367,204,302,244,236,269,206,299,180,341,161,402,145,539,122"/>
<area shape="poly" title=" " alt="" coords="540,126,480,135,419,147,368,164,349,174,337,184,331,194,330,202,337,222,361,260,390,294,423,325,458,352,531,395,593,425,591,430,528,400,455,356,419,329,386,298,356,263,332,224,325,203,326,192,333,181,346,169,366,159,417,142,479,130,539,121"/>
<area shape="poly" title=" " alt="" coords="708,117,850,125,1011,139,1151,157,1200,168,1227,181,1242,198,1252,218,1261,263,1259,308,1253,345,1247,344,1254,307,1255,263,1247,220,1237,201,1224,185,1198,173,1150,162,1011,144,849,131,708,122"/>
<area shape="poly" title=" " alt="" coords="631,126,657,173,677,199,702,221,728,237,751,247,795,256,842,259,901,269,913,272,911,277,899,274,842,264,795,261,750,252,725,242,698,225,673,203,652,176,627,129"/>
<area shape="poly" title=" " alt="" coords="625,128,611,257,605,256,620,127"/>
<area shape="poly" title=" " alt="" coords="651,125,751,173,748,178,648,130"/>
<area shape="poly" title=" " alt="" coords="694,125,1033,184,1032,190,693,130"/>
<area shape="rect" title=" " alt="" coords="346,190,411,216"/>
<area shape="poly" title=" " alt="" coords="585,130,424,185,420,186,419,181,422,180,583,125"/>
<area shape="rect" title=" " alt="" coords="434,183,587,223"/>
<area shape="poly" title=" " alt="" coords="610,130,550,175,547,171,607,126"/>
</map>
</div>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
